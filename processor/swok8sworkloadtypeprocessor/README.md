# SolarWinds Kubernetes Workload Type Processor
<!-- status autogenerated section -->
| Status        |           |
| ------------- |-----------|
| Stability     | [development]: metrics   |
| Distributions | [] |
| Issues        | [![Open issues](https://img.shields.io/github/issues-search/solarwinds/solarwinds-otel-collector-releases?query=is%3Aissue%20is%3Aopen%20label%3Aprocessor%2Fswok8sworkloadtype%20&label=open&color=orange&logo=opentelemetry)](https://github.com/solarwinds/solarwinds-otel-collector-releases/issues?q=is%3Aopen+is%3Aissue+label%3Aprocessor%2Fswok8sworkloadtype) [![Closed issues](https://img.shields.io/github/issues-search/solarwinds/solarwinds-otel-collector-releases?query=is%3Aissue%20is%3Aclosed%20label%3Aprocessor%2Fswok8sworkloadtype%20&label=closed&color=blue&logo=opentelemetry)](https://github.com/solarwinds/solarwinds-otel-collector-releases/issues?q=is%3Aclosed+is%3Aissue+label%3Aprocessor%2Fswok8sworkloadtype) |

[development]: https://github.com/open-telemetry/opentelemetry-collector/blob/main/docs/component-stability.md#development
<!-- end autogenerated section -->

The SolarWinds Kubernetes Workload Type Processor collects objects from the Kubernetes API server and then annotates metric datapoints with a Kind of the workload they are related to.

## Configuration

### Example

The following is an example configuration:

```yaml
swok8sworkloadtype:
  workload_mappings:
    - name_attr: "dest_workload"
      namespace_attr: "dest_workload_namespace"
      workload_type_attr: "dest_workload_type"
      expected_types:
        - services
        - pods
```

In the example, the processor is configured to look for datapoint attributes `dest_workload` and `dest_workload_namespace`. And if they exist, the processor looks for a k8s service or pod workload (in that order) matching the name and namespace. If such workload is found, its Kind (`Service` or `Pod`) is put into the attribute `dest_workload_type`.

Please refer to [config.go](./config.go) for the config spec. Refer to [config.yaml](./testdata/config.yaml) for detailed examples on using the processor.
